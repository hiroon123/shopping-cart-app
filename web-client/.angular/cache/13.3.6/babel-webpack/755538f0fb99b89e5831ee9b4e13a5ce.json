{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"src/app/services/user.service\";\nimport * as i5 from \"@angular/common\";\n\nfunction AccountVerifyComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"h4\", 17);\n    i0.ɵɵtext(2, \"Oops! That didn't work!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"hr\");\n    i0.ɵɵelementStart(6, \"p\", 18);\n    i0.ɵɵtext(7, \"Please contact help@shopsy.com for quick assitance.\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.errorMessage);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\n\nexport let AccountVerifyComponent = /*#__PURE__*/(() => {\n  class AccountVerifyComponent {\n    constructor(builder, http, route, router, userService) {\n      this.builder = builder;\n      this.http = http;\n      this.route = route;\n      this.router = router;\n      this.userService = userService;\n      this.errorMessage = \"\";\n      this.emailaddress = \"\";\n    }\n\n    ngOnInit() {\n      this.buildForm();\n      this.checkParams().then(result => {\n        this.emailaddress = result;\n        this.sendVerificationCode();\n      });\n    }\n\n    checkParams() {\n      return new Promise(() => {\n        const emailaddress = this.route.snapshot.queryParamMap.get('u');\n\n        if (emailaddress == \"\" || emailaddress == null) {\n          this.errorMessage = \"We could't send the verification code. Please go back and try again.\";\n          return null;\n        }\n\n        return emailaddress === null || emailaddress === void 0 ? void 0 : emailaddress.toString();\n      });\n    }\n\n    buildForm() {\n      this.verificationCodeForm = this.builder.group({\n        s1: ['', [Validators.required]],\n        s2: ['', [Validators.required]],\n        s3: ['', [Validators.required]],\n        s4: ['', [Validators.required]],\n        s5: ['', [Validators.required]],\n        s6: ['', [Validators.required]]\n      });\n    }\n\n    sendVerificationCode() {\n      this.userService.verifyUser(this.emailaddress).subscribe(() => {\n        this.router.navigate(['/register-success'], {\n          queryParams: {\n            u: this.emailaddress\n          }\n        });\n      }, err => {\n        this.errorMessage = err.message;\n      });\n      console.log(\"verisend\");\n    }\n\n    verify() {}\n\n  }\n\n  AccountVerifyComponent.ɵfac = function AccountVerifyComponent_Factory(t) {\n    return new (t || AccountVerifyComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.UserService));\n  };\n\n  AccountVerifyComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AccountVerifyComponent,\n    selectors: [[\"app-account-verify\"]],\n    decls: 29,\n    vars: 21,\n    consts: [[\"href\", \"https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700,900&display=swap\", \"rel\", \"stylesheet\"], [1, \"container\"], [\"class\", \"alert alert-danger mt-3\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"row\", \"mt-4\"], [1, \"col-xl-3\"], [1, \"col-xl-6\"], [1, \"card\"], [1, \"mt-3\", 3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"maxLength\", \"1\", \"formControlName\", \"s1\", 3, \"ngClass\"], [\"type\", \"text\", \"maxLength\", \"1\", \"formControlName\", \"s2\", 3, \"ngClass\"], [\"type\", \"text\", \"maxLength\", \"1\", \"formControlName\", \"s3\", 3, \"ngClass\"], [\"type\", \"text\", \"maxLength\", \"1\", \"formControlName\", \"s4\", 3, \"ngClass\"], [\"type\", \"text\", \"maxLength\", \"1\", \"formControlName\", \"s5\", 3, \"ngClass\"], [\"type\", \"text\", \"maxLength\", \"1\", \"formControlName\", \"s6\", 3, \"ngClass\"], [1, \"btn\", \"btn-success\", \"btn-lg\", \"btn-embossed\", \"mt-3\", \"mb-3\", 3, \"disabled\"], [\"href\", \"#\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"mt-3\"], [1, \"alert-heading\"], [1, \"mb-0\"]],\n    template: function AccountVerifyComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\");\n        i0.ɵɵelement(1, \"link\", 0);\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵtemplate(3, AccountVerifyComponent_div_3_Template, 8, 1, \"div\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelement(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"h3\");\n        i0.ɵɵtext(9, \"Enter the verification code\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"span\");\n        i0.ɵɵtext(11, \"6-digit verification code has been sent to your email address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 7);\n        i0.ɵɵlistener(\"ngSubmit\", function AccountVerifyComponent_Template_div_ngSubmit_12_listener() {\n          return ctx.verify();\n        });\n        i0.ɵɵelement(13, \"input\", 8)(14, \"input\", 9)(15, \"input\", 10)(16, \"input\", 11)(17, \"input\", 12)(18, \"input\", 13)(19, \"br\");\n        i0.ɵɵelementStart(20, \"button\", 14);\n        i0.ɵɵtext(21, \"Verify\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"div\");\n        i0.ɵɵtext(23, \" Didn't receive the code?\");\n        i0.ɵɵelement(24, \"br\");\n        i0.ɵɵelementStart(25, \"a\", 15);\n        i0.ɵɵtext(26, \"Send code again\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"br\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelement(28, \"div\", 4);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        let tmp_2_0;\n        let tmp_3_0;\n        let tmp_4_0;\n        let tmp_5_0;\n        let tmp_6_0;\n        let tmp_7_0;\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorMessage != \"\");\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"formGroup\", ctx.verificationCodeForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c0, ((tmp_2_0 = ctx.verificationCodeForm.get(\"s1\")) == null ? null : tmp_2_0.touched) && ((tmp_2_0 = ctx.verificationCodeForm.get(\"s1\")) == null ? null : tmp_2_0.invalid)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(11, _c0, ((tmp_3_0 = ctx.verificationCodeForm.get(\"s2\")) == null ? null : tmp_3_0.touched) && ((tmp_3_0 = ctx.verificationCodeForm.get(\"s2\")) == null ? null : tmp_3_0.invalid)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c0, ((tmp_4_0 = ctx.verificationCodeForm.get(\"s3\")) == null ? null : tmp_4_0.touched) && ((tmp_4_0 = ctx.verificationCodeForm.get(\"s3\")) == null ? null : tmp_4_0.invalid)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(15, _c0, ((tmp_5_0 = ctx.verificationCodeForm.get(\"s4\")) == null ? null : tmp_5_0.touched) && ((tmp_5_0 = ctx.verificationCodeForm.get(\"s4\")) == null ? null : tmp_5_0.invalid)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(17, _c0, ((tmp_6_0 = ctx.verificationCodeForm.get(\"s5\")) == null ? null : tmp_6_0.touched) && ((tmp_6_0 = ctx.verificationCodeForm.get(\"s5\")) == null ? null : tmp_6_0.invalid)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(19, _c0, ((tmp_7_0 = ctx.verificationCodeForm.get(\"s6\")) == null ? null : tmp_7_0.touched) && ((tmp_7_0 = ctx.verificationCodeForm.get(\"s6\")) == null ? null : tmp_7_0.invalid)));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.verificationCodeForm.invalid);\n      }\n    },\n    directives: [i5.NgIf, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName, i5.NgClass],\n    styles: [\".card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#88b04b;font-family:Nunito Sans,Helvetica Neue,sans-serif;font-weight:900;font-size:30px;margin-bottom:10px}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#404f5e;font-family:Nunito Sans,Helvetica Neue,sans-serif;font-size:18px;margin:0}.card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#9abc66;font-size:100px;line-height:200px;margin-left:-15px}.card[_ngcontent-%COMP%]{background:white;padding:60px;border-radius:4px;box-shadow:0 2px 3px #c8d0d8;display:inline-block;margin:0 auto;text-align:center}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;padding:0;line-height:1.25}span[_ngcontent-%COMP%]{font-size:90%}#form[_ngcontent-%COMP%]{margin:25px auto 0}a[_ngcontent-%COMP%]{text-decoration:none}input[_ngcontent-%COMP%]{margin:5px;text-align:center;line-height:60px;font-size:45px;border:solid 1px #ccc;box-shadow:0 0 5px #ccc inset;outline:none;width:60px;transition:all .2s ease-in-out;border-radius:3px;text-transform:uppercase}input[_ngcontent-%COMP%]:focus{border-color:#4a4ce2;box-shadow:0 0 5px #4a4ce2 inset}input[_ngcontent-%COMP%]::selection{background:transparent}button[_ngcontent-%COMP%]{width:50%;padding:6px}button[_ngcontent-%COMP%]:close{border:solid 2px;border-radius:30px;line-height:19px;font-size:120%;width:22px;position:absolute;right:5px;top:5px}div[_ngcontent-%COMP%]{position:relative;z-index:1}img[_ngcontent-%COMP%]{position:absolute;bottom:-70px;right:-63px}\"]\n  });\n  return AccountVerifyComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}